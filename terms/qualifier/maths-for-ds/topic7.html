<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Topic 7: Prime Numbers - Mathematics for Data Science</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .topic-header {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .topic-header h1 {
            margin: 0 0 15px 0;
            font-size: 2.5em;
            font-weight: 700;
        }

        .topic-number {
            font-size: 1.2em;
            opacity: 0.8;
            font-weight: 300;
        }

        .learning-objectives {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .content-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #4a5568;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-top: 0;
        }

        h3 {
            color: #2d3748;
            margin-top: 25px;
        }

        .definition-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            border-left: 5px solid #2196f3;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .example-box {
            background: linear-gradient(135deg, #f1f8e9 0%, #e8f5e8 100%);
            border-left: 5px solid #4caf50;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .warning-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffecb3 100%);
            border-left: 5px solid #ff9800;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .sieve-demo {
            background: #1f2937; color: #f9fafb;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .sieve-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 8px;
            max-width: 500px;
            margin: 20px auto;
        }

        .sieve-number {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .sieve-number.prime {
            background: #4caf50;
            color: white;
        }

        .sieve-number.crossed {
            background: #f44336;
            color: white;
            text-decoration: line-through;
        }

        .sieve-number.unchecked {
            background: #1f2937; color: #f9fafb;
            color: #333;
        }

        .sieve-controls {
            margin: 20px 0;
        }

        .sieve-button {
            background: #2196f3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .sieve-button:hover {
            background: #1976d2;
            transform: scale(1.05);
        }

        .factorization-demo {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .factor-tree {
            text-align: center;
            font-family: 'Courier New', monospace;
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .practice-problems {
            background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }

        .problem {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            border-left: 4px solid #e91e63;
        }

        .solution {
            background: #1f2937; color: #f9fafb;
            padding: 15px;
            margin-top: 10px;
            border-radius: 8px;
            display: none;
        }

        .toggle-solution {
            background: #e91e63;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .toggle-solution:hover {
            background: #c2185b;
            transform: translateY(-2px);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 20px;
        }

        .nav-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 120px;
            justify-content: center;
        }

        .nav-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            height: 8px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4caf50, #45a049);
            height: 100%;
            width: 70%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        .objectives-list {
            list-style: none;
            padding: 0;
        }

        .objectives-list li {
            background: #1f2937; color: #f9fafb;
            margin: 10px 0;
            padding: 12px 20px;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
            position: relative;
        }

        .objectives-list li::before {
            content: "✓";
            color: #4caf50;
            font-weight: bold;
            position: absolute;
            left: -5px;
        }

        .prime-list {
            background: rgba(31, 41, 55, 0.6);
            border: 2px solid #ffeb3b;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .prime-number {
            display: inline-block;
            background: #4caf50;
            color: white;
            padding: 8px 12px;
            margin: 4px;
            border-radius: 20px;
            font-weight: bold;
        }

        .theorem-box {
            background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
            border: 2px solid #4caf50;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .topic-header h1 {
                font-size: 2em;
            }
            
            .content-section {
                padding: 20px;
            }
            
            .navigation {
                flex-direction: column;
            }

            .sieve-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="topic-header">
            <div class="topic-number">Topic 7 of 10</div>
            <h1>Prime Numbers</h1>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
        </div>

        <div class="learning-objectives">
            <h2>🎯 Learning Objectives</h2>
            <ul class="objectives-list">
                <li>Understand the definition and properties of prime numbers</li>
                <li>Learn the Sieve of Eratosthenes algorithm for finding primes</li>
                <li>Master prime factorization and the Fundamental Theorem of Arithmetic</li>
                <li>Apply prime concepts to GCD calculation and fraction simplification</li>
                <li>Understand the infinite nature of prime numbers</li>
                <li>Recognize patterns and distribution of primes</li>
            </ul>
        </div>

        <div class="content-section">
            <h2>8.1 Definition</h2>
            
            <div class="definition-box">
                <h3>🔑 Prime Number</h3>
                <p>A number p is <strong>prime</strong> if:</p>
                <ul>
                    <li>It has <strong>exactly two factors</strong>: 1 and p</li>
                    <li>p ≠ 1 (1 is NOT prime - it only has one factor)</li>
                </ul>
            </div>

            <div class="prime-list">
                <h3>First Few Prime Numbers</h3>
                <div class="prime-number">2</div>
                <div class="prime-number">3</div>
                <div class="prime-number">5</div>
                <div class="prime-number">7</div>
                <div class="prime-number">11</div>
                <div class="prime-number">13</div>
                <div class="prime-number">17</div>
                <div class="prime-number">19</div>
                <div class="prime-number">23</div>
                <div class="prime-number">29</div>
                <div class="prime-number">31</div>
                <div class="prime-number">37</div>
                <div class="prime-number">41</div>
                <div class="prime-number">43</div>
                <div class="prime-number">47</div>
            </div>

            <div class="warning-box">
                <h3>⚠️ Important Facts</h3>
                <ul>
                    <li><strong>First Prime:</strong> 2 (the only even prime)</li>
                    <li><strong>After 2:</strong> All even numbers are composite (divisible by 2)</li>
                    <li><strong>Why 1 is NOT prime:</strong> factors(1) = {1} (only one factor, but prime requires exactly TWO factors)</li>
                </ul>
            </div>
        </div>

        <div class="content-section">
            <h2>8.2 Sieve of Eratosthenes</h2>
            
            <div class="definition-box">
                <h3>Algorithm to Find Primes up to n</h3>
                <ol>
                    <li>List all numbers from 2 to n</li>
                    <li>Start with first number (2)</li>
                    <li>Mark 2 as prime</li>
                    <li>Cross out all multiples of 2</li>
                    <li>Find next unmarked number (3)</li>
                    <li>Mark 3 as prime</li>
                    <li>Cross out all multiples of 3</li>
                    <li>Repeat until reaching √n</li>
                </ol>
            </div>

            <div class="sieve-demo">
                <h3>🎨 Interactive Sieve of Eratosthenes</h3>
                <p>Click the buttons to see the sieve in action (finding primes up to 50):</p>
                
                <div class="sieve-controls">
                    <button class="sieve-button" onclick="resetSieve()">Reset</button>
                    <button class="sieve-button" onclick="sieveStep()">Next Step</button>
                    <button class="sieve-button" onclick="completeAutomatic()">Complete Automatically</button>
                </div>

                <div class="sieve-grid" id="sieveGrid">
                    <!-- Numbers 2-50 will be populated by JavaScript -->
                </div>

                <div id="sieveStatus" class="mt-20">
                    <p><strong>Status:</strong> Ready to start</p>
                </div>
            </div>

            <div class="example-box">
                <h3>Visual Example (finding primes up to 100)</h3>
                <div class="factor-tree">
2  [crossed: 4, 6, 8, 10, 12, 14, 16, 18, 20, ...]
3  [crossed: 9, 15, 21, 27, 33, 39, 45, 51, ...]
5  [crossed: 25, 35, 45, 55, 65, 75, 85, 95, ...]
7  [crossed: 49, 77, 91, ...]

Remaining primes up to 100:
2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 
53, 59, 61, 67, 71, 73, 79, 83, 89, 97
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>8.3 Prime Factorization</h2>
            
            <div class="theorem-box">
                <h3>🏛️ Fundamental Theorem of Arithmetic</h3>
                <p><strong>Every integer greater than 1 can be decomposed into a UNIQUE product of prime factors</strong></p>
                <p>This means every number has exactly one prime factorization (order doesn't matter).</p>
            </div>

            <div class="factorization-demo">
                <h3>Examples of Prime Factorization</h3>
                
                <div class="example-box">
                    <h4>Example 1: 12</h4>
                    <div class="factor-tree">
12 = 2 × 6
   = 2 × (2 × 3)
   = 2² × 3
                    </div>
                </div>

                <div class="example-box">
                    <h4>Example 2: 126</h4>
                    <div class="factor-tree">
126 = 2 × 63
    = 2 × (3 × 21)
    = 2 × 3 × (3 × 7)
    = 2 × 3² × 7
                    </div>
                </div>

                <div class="example-box">
                    <h4>Example 3: 360</h4>
                    <div class="factor-tree">
360 = 2³ × 3² × 5
    = 8 × 9 × 5
    = 8 × 45
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <h3>💡 Applications of Prime Factorization</h3>
                <ul>
                    <li><strong>Finding GCD:</strong> Take minimum powers of common prime factors</li>
                    <li><strong>Simplifying fractions:</strong> Cancel common prime factors</li>
                    <li><strong>Understanding divisibility:</strong> A number divides another if its prime factors are contained</li>
                    <li><strong>LCM calculation:</strong> Take maximum powers of all prime factors</li>
                </ul>
            </div>
        </div>

        <div class="content-section">
            <h2>8.4 How Many Primes?</h2>
            
            <div class="theorem-box">
                <h3>🌟 Theorem: Infinitely Many Primes</h3>
                <p><strong>There are INFINITELY many prime numbers</strong></p>
                
                <h4>Key Insights:</h4>
                <ul>
                    <li>No largest prime exists</li>
                    <li>Primes continue forever</li>
                    <li>Gaps between primes can be arbitrarily large</li>
                </ul>
            </div>

            <div class="example-box">
                <h3>Distribution of Primes</h3>
                <ul>
                    <li><strong>Primes become less frequent</strong> as numbers get larger</li>
                    <li><strong>But they never stop appearing</strong></li>
                    <li>Between 1-100: 25 primes</li>
                    <li>Between 101-200: 21 primes</li>
                    <li>Between 201-300: 16 primes</li>
                    <li>Between 901-1000: 14 primes</li>
                </ul>
            </div>

            <div class="warning-box">
                <h3>🔍 Interesting Prime Facts</h3>
                <ul>
                    <li><strong>Twin Primes:</strong> Primes that differ by 2 (like 3,5 or 11,13 or 17,19)</li>
                    <li><strong>Mersenne Primes:</strong> Primes of the form 2ⁿ - 1</li>
                    <li><strong>Prime Gaps:</strong> The gap between consecutive primes can be as large as we want</li>
                    <li><strong>Goldbach Conjecture:</strong> Every even integer > 2 is the sum of two primes (unproven!)</li>
                </ul>
            </div>
        </div>

        <div class="practice-problems">
            <h2>🧮 Practice Problems</h2>
            
            <div class="problem">
                <h3>Problem 1: Prime Identification</h3>
                <p>Which of the following numbers are prime?</p>
                <ol>
                    <li>17</li>
                    <li>21</li>
                    <li>29</li>
                    <li>39</li>
                    <li>41</li>
                </ol>
                <button class="toggle-solution" onclick="toggleSolution(this)">Show Solution</button>
                <div class="solution">
                    <h4>Solutions:</h4>
                    <ol>
                        <li><strong>17 is PRIME</strong> - factors: {1, 17}</li>
                        <li><strong>21 is NOT prime</strong> - factors: {1, 3, 7, 21} (21 = 3 × 7)</li>
                        <li><strong>29 is PRIME</strong> - factors: {1, 29}</li>
                        <li><strong>39 is NOT prime</strong> - factors: {1, 3, 13, 39} (39 = 3 × 13)</li>
                        <li><strong>41 is PRIME</strong> - factors: {1, 41}</li>
                    </ol>
                </div>
            </div>

            <div class="problem">
                <h3>Problem 2: Prime Factorization</h3>
                <p>Find the complete prime factorization of:</p>
                <ol>
                    <li>84</li>
                    <li>150</li>
                    <li>210</li>
                </ol>
                <button class="toggle-solution" onclick="toggleSolution(this)">Show Solution</button>
                <div class="solution">
                    <h4>Solutions:</h4>
                    <ol>
                        <li><strong>84 = 2² × 3 × 7</strong>
                            <br>84 = 4 × 21 = 4 × 3 × 7 = 2² × 3 × 7</li>
                        <li><strong>150 = 2 × 3 × 5²</strong>
                            <br>150 = 2 × 75 = 2 × 3 × 25 = 2 × 3 × 5²</li>
                        <li><strong>210 = 2 × 3 × 5 × 7</strong>
                            <br>210 = 2 × 105 = 2 × 3 × 35 = 2 × 3 × 5 × 7</li>
                    </ol>
                </div>
            </div>

            <div class="problem">
                <h3>Problem 3: Using Prime Factorization for GCD</h3>
                <p>Find the GCD using prime factorization:</p>
                <ol>
                    <li>gcd(48, 18)</li>
                    <li>gcd(60, 90)</li>
                    <li>gcd(84, 126)</li>
                </ol>
                <button class="toggle-solution" onclick="toggleSolution(this)">Show Solution</button>
                <div class="solution">
                    <h4>Solutions:</h4>
                    <ol>
                        <li><strong>gcd(48, 18) = 6</strong>
                            <br>48 = 2⁴ × 3, 18 = 2 × 3²
                            <br>GCD = 2¹ × 3¹ = 6</li>
                        <li><strong>gcd(60, 90) = 30</strong>
                            <br>60 = 2² × 3 × 5, 90 = 2 × 3² × 5
                            <br>GCD = 2¹ × 3¹ × 5¹ = 30</li>
                        <li><strong>gcd(84, 126) = 42</strong>
                            <br>84 = 2² × 3 × 7, 126 = 2 × 3² × 7
                            <br>GCD = 2¹ × 3¹ × 7¹ = 42</li>
                    </ol>
                </div>
            </div>

            <div class="problem">
                <h3>Problem 4: Sieve of Eratosthenes</h3>
                <p>Use the Sieve of Eratosthenes to find all prime numbers up to 30. List the steps:</p>
                <button class="toggle-solution" onclick="toggleSolution(this)">Show Solution</button>
                <div class="solution">
                    <h4>Solution:</h4>
                    <p><strong>Step-by-step process:</strong></p>
                    <ol>
                        <li><strong>Start:</strong> 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30</li>
                        <li><strong>Mark 2 prime, cross multiples:</strong> 2, 3, X, 5, X, 7, X, 9, X, 11, X, 13, X, 15, X, 17, X, 19, X, 21, X, 23, X, 25, X, 27, X, 29, X</li>
                        <li><strong>Mark 3 prime, cross multiples:</strong> 2, 3, X, 5, X, 7, X, X, X, 11, X, 13, X, X, X, 17, X, 19, X, X, X, 23, X, 25, X, X, X, 29, X</li>
                        <li><strong>Mark 5 prime, cross multiples:</strong> 2, 3, X, 5, X, 7, X, X, X, 11, X, 13, X, X, X, 17, X, 19, X, X, X, 23, X, X, X, X, X, 29, X</li>
                        <li><strong>Stop at √30 ≈ 5.5</strong></li>
                    </ol>
                    <p><strong>Final Answer:</strong> 2, 3, 5, 7, 11, 13, 17, 19, 23, 29</p>
                </div>
            </div>
        </div>

        <div class="navigation">
            <a href="topic6.html" class="nav-button">
                ← Previous: Functions
            </a>
            <a href="topics-overview.html" class="nav-button">
                📋 Topics Overview
            </a>
            <a href="topic8.html" class="nav-button">
                Next: Irrational Numbers →
            </a>
        </div>
    </div>

    <script>
        let sieveData = [];
        let currentStep = 0;
        let currentPrime = 0;

        function initializeSieve() {
            const grid = document.getElementById('sieveGrid');
            grid.innerHTML = '';
            sieveData = [];

            for (let i = 2; i <= 50; i++) {
                const numberDiv = document.createElement('div');
                numberDiv.className = 'sieve-number unchecked';
                numberDiv.textContent = i;
                numberDiv.id = `num-${i}`;
                grid.appendChild(numberDiv);
                
                sieveData.push({
                    number: i,
                    isPrime: null,
                    isCrossed: false
                });
            }
        }

        function resetSieve() {
            initializeSieve();
            currentStep = 0;
            currentPrime = 0;
            document.getElementById('sieveStatus').innerHTML = '<p><strong>Status:</strong> Ready to start</p>';
        }

        function sieveStep() {
            if (currentStep === 0) {
                // Find next uncrossed number
                for (let i = currentPrime; i < sieveData.length; i++) {
                    if (!sieveData[i].isCrossed && sieveData[i].isPrime === null) {
                        currentPrime = i;
                        break;
                    }
                }
                
                if (sieveData[currentPrime].number * sieveData[currentPrime].number > 50) {
                    // Mark remaining as prime
                    for (let i = 0; i < sieveData.length; i++) {
                        if (!sieveData[i].isCrossed && sieveData[i].isPrime === null) {
                            sieveData[i].isPrime = true;
                            document.getElementById(`num-${sieveData[i].number}`).className = 'sieve-number prime';
                        }
                    }
                    document.getElementById('sieveStatus').innerHTML = '<p><strong>Status:</strong> Complete! All primes found.</p>';
                    return;
                }
                
                // Mark current as prime
                sieveData[currentPrime].isPrime = true;
                document.getElementById(`num-${sieveData[currentPrime].number}`).className = 'sieve-number prime';
                
                document.getElementById('sieveStatus').innerHTML = 
                    `<p><strong>Status:</strong> Marked ${sieveData[currentPrime].number} as prime. Next: cross out multiples.</p>`;
                
                currentStep = 1;
            } else {
                // Cross out multiples
                const primeNum = sieveData[currentPrime].number;
                for (let i = primeNum * primeNum; i <= 50; i += primeNum) {
                    const index = i - 2; // Adjust for array index
                    if (index < sieveData.length && !sieveData[index].isCrossed) {
                        sieveData[index].isCrossed = true;
                        document.getElementById(`num-${i}`).className = 'sieve-number crossed';
                    }
                }
                
                document.getElementById('sieveStatus').innerHTML = 
                    `<p><strong>Status:</strong> Crossed out multiples of ${primeNum}. Looking for next prime...</p>`;
                
                currentPrime++;
                currentStep = 0;
            }
        }

        function completeAutomatic() {
            const interval = setInterval(() => {
                sieveStep();
                
                // Check if complete
                let allProcessed = true;
                for (let i = 0; i < sieveData.length; i++) {
                    if (sieveData[i].isPrime === null && !sieveData[i].isCrossed) {
                        allProcessed = false;
                        break;
                    }
                }
                
                if (allProcessed || sieveData[currentPrime]?.number * sieveData[currentPrime]?.number > 50) {
                    clearInterval(interval);
                }
            }, 1000);
        }

        function toggleSolution(button) {
            const solution = button.nextElementSibling;
            if (solution.style.display === 'none' || solution.style.display === '') {
                solution.style.display = 'block';
                button.textContent = 'Hide Solution';
                button.style.background = '#757575';
            } else {
                solution.style.display = 'none';
                button.textContent = 'Show Solution';
                button.style.background = '#e91e63';
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeSieve();
            
            // Add animations
            const objectives = document.querySelectorAll('.objectives-list li');
            objectives.forEach((obj, index) => {
                obj.style.animationDelay = `${index * 0.1}s`;
                obj.style.animation = 'slideInFromLeft 0.5s ease forwards';
            });
        });

        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInFromLeft {
                from {
                    opacity: 0;
                    transform: translateX(-30px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>